import{r as h,f as $,o as a,c as n,a as e,F as m,g as f,h as b,i as g,v as x,t as s,u,d as y,n as P,l as B,j as N,k as D,X as p}from"./index-7fc82aa0.js";const S={class:"container gx-2"},z={class:"row gx-3 bg-light py-3"},E={class:"col-md-4"},F={class:"list-group"},X=["onClick"],q={class:"card-title mb-1"},G={class:"d-flex align-items-center justify-content-between"},H={class:"mb-0"},K={class:"mb-0"},R={class:"col-md-8"},W={class:"card mb-2"},A={key:0,class:"position-absolute text-white d-flex align-items-center justify-content-center",style:{top:"0",bottom:"0",left:"0",right:"0","background-color":"rgba(0, 0, 0, 0.65)","z-index":"100"}},I={class:"card-body px-4"},J={class:"mb-3"},Q=e("label",{for:"productNum",class:"form-label"},"數量",-1),Y={class:"mb-3"},Z=e("label",{for:"productNum",class:"form-label d-block"},"冰塊*",-1),ee=["id","value","onUpdate:modelValue","disabled"],te=["for"],se={class:"mb-3"},oe=e("label",{for:"productNum",class:"form-label d-block"},"甜度*",-1),le=["id","value","onUpdate:modelValue","disabled"],ae=["for"],ne={class:"mb-3"},ce=e("label",{for:"productNum",class:"form-label d-block"},[y(" 加料 "),e("small",{class:"text-black-50 fw-light mb-0"},"加一樣 10 元")],-1),ie=["id","value","disabled"],de=["for"],re={class:"mb-3"},ue=e("label",{for:"productNotice",class:"form-label"},"備註",-1),pe={class:"d-flex gap-2"},me=["disabled"],_e={key:0,class:"card"},he={class:"card-body"},fe={class:"table"},be=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"冰塊"),e("th",{scope:"col"},"甜度"),e("th",{scope:"col"},"加料"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1),ge={scope:"row"},ve=e("br",null,null,-1),ye={key:0,class:"text-muted fw-normal"},ke={class:"text-end"},$e={class:"text-end"},xe={class:"d-flex gap-2"},Ne=["disabled"],Te=["disabled"],we={key:0,class:"bg-light p-3 mt-3"},Le={class:"bg-white p-3 d-flex flex-column",style:{"min-height":"450px"}},Oe={class:"table"},Ce=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"冰塊"),e("th",{scope:"col"},"甜度"),e("th",{scope:"col"},"加料"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1),Ve={scope:"row"},Me=e("br",null,null,-1),je={key:0,class:"text-muted fw-normal"},Ue={class:"text-end"},Pe={class:"mt-3 mb-1"},Be={class:"mb-1"},De=e("p",{class:"mb-1"},"付款狀態：未付款",-1),Se={class:"text-end mt-auto"},Fe={__name:"OrderDrinks",setup(ze){const T=h(["正常冰","少冰","微冰","去冰","熱"]),w=h(["全糖","七分","半糖","三分","無糖"]),L=h(["珍珠","粉條","小粉圓","椰果","芋頭"]),O=h([{name:"珍珠鮮奶茶",engName:"Pearl Milk Tea",price:60,defaults:{toppings:["珍珠"],sugar:"",ice:""}},{name:"椰果鮮奶茶",engName:"Coconut Milk Tea",price:60,defaults:{toppings:["椰果"],sugar:"",ice:""}},{name:"鮮奶茶",engName:"Milk Tea",price:50,defaults:{toppings:[""],sugar:"",ice:""}},{name:"古意冬瓜茶 (糖固定)",engName:"Winter Melon Drink",price:30,defaults:{toppings:[""],sugar:"全糖",ice:""}},{name:"蜜香紅茶",engName:"Black Tea",price:30,defaults:{toppings:[""],sugar:"",ice:""}},{name:"包種青茶",engName:"Black Tea",price:35,defaults:{toppings:[""],sugar:"",ice:""}},{name:"檸檬烏龍",engName:"Lemon Oolong Tea",price:55,defaults:{toppings:[""],sugar:"",ice:""}},{name:"薑母茶 (熱飲)",engName:"Ginger Tea",price:55,defaults:{toppings:[""],sugar:"",ice:"熱"}},{name:"青草茶",engName:"Herbal Tea",price:35,defaults:{toppings:[""],sugar:"",ice:""}},{name:"金桔檸檬",engName:"Kumquat Lemonade",price:40,defaults:{toppings:[""],sugar:"",ice:""}},{name:"柳澄青茶",engName:"Orange Mountain Tea",price:45,defaults:{toppings:[""],sugar:"",ice:""}}]),o=$({}),r=h([]),v=h(0),d=$({orderTime:"",orderList:[],total:0});function C(l){Object.assign(o,{...l,count:1,ice:l.defaults.ice!==""?l.defaults.ice:"正常冰",sugar:l.defaults.sugar!==""?l.defaults.sugar:"全糖",toppings:[],notice:""})}function k(){for(const l in o)delete o[l]}function V(l){r.value.push(Object.assign({},{...l,subtotal:(l.price+l.toppings.length*10)*l.count})),M(),k()}function M(){v.value=r.value.reduce((l,c)=>l+c.subtotal,0)}function j(){r.value=[],v.value=0}function U(){if(d.orderList.length){const l=r.value.map(c=>({...c,subtotal:(c.price+c.toppings.length*10)*c.count}));d.orderList=d.orderList.concat(l),r.value=[]}else d.orderList=[...r.value];d.total=d.orderList.reduce((l,c)=>l+c.subtotal,0),d.orderTime=new Date().toLocaleString(),r.value=[]}return(l,c)=>(a(),n(m,null,[e("div",S,[e("div",z,[e("div",E,[e("div",F,[(a(!0),n(m,null,f(O.value,(t,i)=>(a(),n("a",{href:"javascript:void(0);",class:P(["list-group-item list-group-item-action",{active:o.name===t.name}]),key:`${i}-${t.name}`,onClick:B(_=>C(t),["prevent"])},[e("h6",q,s(t.name),1),e("div",G,[e("p",H,[e("small",null,s(t.engName),1)]),e("p",K,[e("small",null,"NT$ "+s(t.price),1)])])],10,X))),128))])]),e("div",R,[e("div",W,[o.hasOwnProperty("name")?b("",!0):(a(),n("div",A," 請先選擇飲品 ")),e("div",I,[e("div",J,[Q,g(e("input",{type:"number",class:"form-control",id:"productNum",placeholder:"數量",min:"0","onUpdate:modelValue":c[0]||(c[0]=t=>o.count=t)},null,512),[[x,o.count]])]),e("div",Y,[Z,(a(!0),n(m,null,f(T.value,(t,i)=>(a(),n("div",{key:`${i}-${t}`,class:"form-check form-check-inline"},[g(e("input",{class:"form-check-input",name:"iceType",type:"radio",id:`${i}-${t}`,value:t,"onUpdate:modelValue":_=>o.ice=_,disabled:!o.hasOwnProperty("defaults")||o.defaults.ice!==""&&o.defaults.ice!==t},null,8,ee),[[N,o.ice]]),e("label",{class:"form-check-label",for:`${i}-${t}`},s(t),9,te)]))),128))]),e("div",se,[oe,(a(!0),n(m,null,f(w.value,(t,i)=>(a(),n("div",{key:`${i}-${t}`,class:"form-check form-check-inline"},[g(e("input",{class:"form-check-input",name:"sugarType",type:"radio",id:`${i}-${t}`,value:t,"onUpdate:modelValue":_=>o.sugar=_,disabled:!o.hasOwnProperty("defaults")||o.defaults.sugar!==""&&o.defaults.sugar!==t},null,8,le),[[N,o.sugar]]),e("label",{class:"form-check-label",for:`${i}-${t}`},s(t),9,ae)]))),128))]),e("div",ne,[ce,(a(!0),n(m,null,f(L.value,(t,i)=>(a(),n("div",{key:`${i}-${t}`,class:"form-check form-check-inline"},[g(e("input",{class:"form-check-input",type:"checkbox",id:`${i}-${t}`,value:t,"onUpdate:modelValue":c[1]||(c[1]=_=>o.toppings=_),disabled:!o.hasOwnProperty("defaults")||o.defaults.toppings.includes(t)},null,8,ie),[[D,o.toppings]]),e("label",{class:"form-check-label",for:`${i}-${t}`},s(t),9,de)]))),128))]),e("div",re,[ue,g(e("textarea",{"onUpdate:modelValue":c[2]||(c[2]=t=>o.notice=t),class:"form-control",id:"productNotice",rows:"2"},`
              `,512),[[x,o.notice]])]),e("div",pe,[e("button",{class:"btn btn-outline-primary w-100",type:"button",onClick:k}," 取消 "),e("button",{class:"btn btn-primary w-100",type:"button",onClick:c[3]||(c[3]=t=>V(o)),disabled:!o.hasOwnProperty("name")}," 加入 ",8,me)])])]),r.value.length!==0?(a(),n("div",_e,[e("div",he,[e("table",fe,[be,e("tbody",null,[(a(!0),n(m,null,f(r.value,(t,i)=>(a(),n("tr",{key:`${i}-${t.name}`},[e("th",ge,[y(s(t.name),1),ve,t.notice!==""?(a(),n("small",ye," 備註："+s(t.notice),1)):b("",!0)]),e("td",null,s(t.ice),1),e("td",null,s(t.sugar),1),e("td",null,s(t.toppings.join(", ")),1),e("td",null,s(u(p).commafy(t.price)),1),e("td",null,s(u(p).commafy(t.count)),1),e("td",ke,s(u(p).commafy(t.subtotal)),1)]))),128))])]),e("p",$e,"共 NT$ "+s(u(p).commafy(v.value))+" 元",1),e("div",xe,[e("button",{disabled:r.value.length===0,class:"btn btn-outline-secondary w-100",onClick:j}," 重新選擇 ",8,Ne),e("button",{disabled:r.value.length===0,class:"btn btn-secondary w-100",onClick:U}," 產生訂單 ",8,Te)])])])):b("",!0)])])]),d.orderList.length!==0?(a(),n("div",we,[e("div",Le,[e("table",Oe,[Ce,e("tbody",null,[(a(!0),n(m,null,f(d.orderList,(t,i)=>(a(),n("tr",{key:`${i}-${d.orderTime}`},[e("th",Ve,[y(s(t.name),1),Me,t.notice!==""?(a(),n("small",je,"備註："+s(t.notice),1)):b("",!0)]),e("td",null,s(t.ice),1),e("td",null,s(t.sugar),1),e("td",null,s(t.toppings.join(", ")),1),e("td",null,s(u(p).commafy(t.price)),1),e("td",null,s(u(p).commafy(t.count)),1),e("td",Ue,s(u(p).commafy(t.subtotal)),1)]))),128))])]),e("p",Pe,"訂單成立時間："+s(d.orderTime),1),e("p",Be,"餐點數： "+s(u(p).commafy(d.orderList.length)),1),De,e("p",Se,"共 NT$ "+s(u(p).commafy(d.total))+" 元",1)])])):b("",!0)],64))}};export{Fe as default};
